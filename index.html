
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PostCard</title>
    <link href="https://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">


    <!-- JQuery-->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/flick/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"
        integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ"
        crossorigin="anonymous"></script>

    <!-- Cumstom-->
    <link href="./sticker.css" rel="stylesheet">

</head>

<body>

    <main>
        <section>

            <div class="zone"> </div>
            <div id="tmpImgDiv"> 

            </div>

            <div class="obj_list">

                <h2> Brand Logo </h2>
                <div class="obj_list_box">
                    <div class="sticker box1" id="box1" data-id="1"></div>
                    <div class="sticker box2" id="box2" data-id="1"></div>
                    <div class="sticker box3" id="box3" data-id="1"></div>
                    <div class="sticker box4" id="box4" data-id="1"></div>
                    <div class="sticker box5" id="box5" data-id="1"></div>
                    <div class="sticker box6" id="box6" data-id="1"></div>

                </div>

                <h2>Brand Illustrator</h2>
                <div class="obj_list_box">
                    <div class="sticker box7" id="box7" data-id="1"></div>
                    <div class="sticker box8" id="box8" data-id="1"></div>
                    <div class="sticker box9" id="box9" data-id="1"></div>
                    <div class="sticker box10" id="box10" data-id="1"></div>
                    <div class="sticker box11" id="box11" data-id="1"></div>
                    <div class="sticker box12" id="box12" data-id="1"></div>

                    <div class="sticker box13" id="box13" data-id="1"></div>
                    <div class="sticker box14" id="box14" data-id="1"></div>
                    <div class="sticker box15" id="box15" data-id="1"></div>
                    <div class="sticker box16" id="box16" data-id="1"></div>
                    <div class="sticker box17" id="box17" data-id="1"></div>
                    <div class="sticker box18" id="box18" data-id="1"></div>

                    <div class="sticker box19" id="box19" data-id="1"></div>
                    <div class="sticker box20" id="box20" data-id="1"></div>
                    <div class="sticker box21" id="box21" data-id="1"></div>
                    <div class="sticker box22" id="box22" data-id="1"></div>
                    <div class="sticker box23" id="box23" data-id="1"></div>
                    <div class="sticker box24" id="box24" data-id="1"></div>

                    <div class="sticker box25 big_sticker" id="box25" data-id="1"></div>
                    <div class="sticker box26 big_sticker" id="box26" data-id="1"></div>
                    <div class="sticker box27 big_sticker" id="box27" data-id="1"></div>
                </div>

                <h2>Brand Head Typo</h2>
                <div class="obj_list_box">
                    <div class="sticker box28 big_sticker" id="box28" data-id="1"></div>
                    <div class="sticker box29 big_sticker" id="box29" data-id="1"></div>
                    <div class="sticker box30 big_sticker" id="box30" data-id="1"></div>
                    <div class="sticker box31 big_sticker" id="box31" data-id="1"></div>
                    <div class="sticker box32 big_sticker" id="box32" data-id="1"></div>
                    <div class="sticker box33 big_sticker" id="box33" data-id="1"></div>


                </div>

                <h2>Brand Body Typo</h2>
                <div class="obj_list_box">

                    <div class="sticker box34 big_sticker" id="box34" data-id="1"></div>
                    <div class="sticker box35 big_sticker" id="box35" data-id="1"></div>
                    <div class="sticker box36 big_sticker" id="box36" data-id="1"></div>
                    <div class="sticker box37 big_sticker" id="box37" data-id="1"></div>
                    <div class="sticker box38 big_sticker" id="box38" data-id="1"></div>
                    <div class="sticker box39 big_sticker" id="box39" data-id="1"></div>
                    <div class="sticker box40 big_sticker" id="box40" data-id="1"></div>
                    <div class="sticker box41 big_sticker" id="box41" data-id="1"></div>
                    <div class="sticker box42 big_sticker" id="box42" data-id="1"></div>
                </div>

                <h2> Drawing Element </h2>
                <div class="obj_list_box">


                    <div class="sticker box43" id="box43" data-id="1"></div>
                    <div class="sticker box44" id="box44" data-id="1"></div>
                    <div class="sticker box45" id="box45" data-id="1"></div>
                    <div class="sticker box46" id="box46" data-id="1"></div>
                    <div class="sticker box47" id="box47" data-id="1"></div>
                    <div class="sticker box48" id="box48" data-id="1"></div>
                    <div class="sticker box49" id="box49" data-id="1"></div>
                    <div class="sticker box50" id="box50" data-id="1"></div>
                    <div class="sticker box51" id="box51" data-id="1"></div>
                    <div class="sticker box52" id="box52" data-id="1"></div>
                    <div class="sticker box53" id="box53" data-id="1"></div>
                    <div class="sticker box54" id="box54" data-id="1"></div>
                    <div class="sticker box55" id="box55" data-id="1"></div>
                    <div class="sticker box56" id="box56" data-id="1"></div>
                    <div class="sticker box57" id="box57" data-id="1"></div>
                    <div class="sticker box58" id="box58" data-id="1"></div>
                    <div class="sticker box59" id="box59" data-id="1"></div>
                    <div class="sticker box60" id="box60" data-id="1"></div>
                </div>
            </div>

            <div class="btn_wrap">
                <a href="/"><button type="button" id="reset">  Reset </button> </a>
                <button type="button" id="save" onclick="downImg()"> Crafting </button>
            </div>

        </section>
    </main>


    <!-- 클릭하면 tmpImgDiv로 추가 -->
    <script>
        $(document).ready(function(){
            for(let i = 1; i <= 10; i++){
                $('#text'+i).click(function(){
                    var sticker = $('#text'+i);
                    sticker.detach();
                    sticker.removeClass('text'+i);
                    $('#tmpImgDiv').append(sticker);

                })
            }
            for(let i = 1; i <= 70; i++){
                $('.box'+i).mousedown(function(){
                    var sticker = $('#box'+i).detach();
                    sticker.detach();
                    sticker.removeClass('box'+i);
                    sticker.addClass('box');
                    $('#tmpImgDiv').append(sticker);
                    $('#box'+i).css("position","absolute");
                    $('#box'+i).css("width","100px");
                    $('#box'+i).css("height","100px");
                    $('#box'+i).css("left","100px");
                })
                $('#box'+i).boxModeling({
                    rotate: true,
                    resize: true,
                    move: true,
                })
            }
        })
    </script>


    <!-- object script -->
    <script src="./box-modeling.js"></script>

    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-36251023-1']);
        _gaq.push(['_setDomainName', 'jqueryscript.net']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

    <script>
        try {
            fetch(new Request("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js", { method: 'HEAD', mode: 'no-cors' })).then(function (response) {
                return true;
            }).catch(function (e) {
                var carbonScript = document.createElement("script");
                carbonScript.src = "//cdn.carbonads.com/carbon.js?serve=CK7DKKQU&placement=wwwjqueryscriptnet";
                carbonScript.id = "_carbonads_js";
                document.getElementById("carbon-block").appendChild(carbonScript);
            });
        } catch (error) {
            console.log(error);
        }
    </script>

    <!-- save script -->
    <script src="./html2canvas.js"></script>
    <script>

        //이미지(png)로 다운로드
        function downImg() {
            html2canvas($("#tmpImgDiv")[0]).then(function (canvas) {
                var myImage = canvas.toDataURL();
                downloadURI(myImage, "own_postcard.png")
            });
        }

        function downloadURI(uri, name) {
            var link = document.createElement("a")
            link.download = name;
            link.href = uri;
            document.body.appendChild(link);
            link.click();
        }
    </script>


</body>

</html>